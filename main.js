!function(){"use strict";var e={120:function(e,t,n){e.exports=n.p+"e602a5950be032b4e735.jpg"},240:function(e,t,n){e.exports=n.p+"46d96bb57bc5011b2b60.jpg"},36:function(e,t,n){e.exports=n.p+"b5a0cf0fb3d83b1e9a59.jpg"},287:function(e,t,n){e.exports=n.p+"52821ce85dd22be4aec2.jpg"},685:function(e,t,n){e.exports=n.p+"2151bf5a901b3887df47.jpeg"},257:function(e,t,n){e.exports=n.p+"d8c5b10d47626a243838.jpg"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.m=e,n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.b=document.baseURI||self.location.href,function(){class e{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._handleClickClose=this._handleClickClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),this._popupElement.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleClickClose)}close(){this._popupElement.classList.remove("modal_opened"),this._popupElement.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleClickClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleClickClose(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}}class t extends e{constructor(e,t){let{name:n,link:o}=e;super(t),this._name=n,this._link=o,this._popupElement=document.querySelector(t),this._modalCaption=this._popupElement.querySelector(".modal__photo-caption"),this._modalImage=this._popupElement.querySelector(".modal__photo")}open(){this._modalCaption.textContent=this._name,this._modalImage.src=this._link,this._modalImage.alt=this._name,super.open()}close(){this._modalCaption.textContent="",this._modalImage.src="",this._modalImage.alt="",super.close()}}class o{constructor(e,t){let{name:n,link:o}=e;this._name=n,this._link=o,this._cardSelector=t}_setEventListeners(){this._likeBtn.addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".card__remove-button").addEventListener("click",(()=>{this._handleRemoveCard()}));const e=new t({name:this._name,link:this._link},"#photo-modal");this._imageEl.addEventListener("click",(()=>{e.open()}))}_handleLikeButton=()=>{this._likeBtn.classList.toggle("card__like-button_active")};_getElement(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}createCard(){return this._cardElement=this._getElement(),this._imageEl=this._cardElement.querySelector(".card__img"),this._imageEl.src=this._link,this._imageEl.alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._likeBtn=this._cardElement.querySelector(".card__like-button"),this._setEventListeners(),this._cardElement}_handleRemoveCard(){this._cardElement.remove(),this._cardElement=null}}class r{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){this._errorEl=this._form.querySelector(`#${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorEl.textContent=e.validationMessage,this._errorEl.classList.add(this._errorClass)}_hideInputError(e){this._errorEl=this._form.querySelector(`#${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorEl.classList.remove(this._errorClass),this._errorEl.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}toggleButtonState(){this._hasInvalidInput()?(this._buttonEl.classList.add(this._inactiveButtonClass),this._buttonEl.disabled=!0):(this._buttonEl.classList.remove(this._inactiveButtonClass),this._buttonEl.disabled=!1)}_setEventListeners(){this._inputList=[...this._form.querySelectorAll(this._inputSelector)],this._buttonEl=this._form.querySelector(this._submitButtonSelector),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s extends e{constructor(e,t){super({popupSelector:e}),this._modalForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.inputEls=this._modalForm.querySelectorAll(".modal__input")}_getInputValues(){const e={};return this.inputEls.forEach((t=>{e[t.name]=t.value})),e}open(){this._modalForm.addEventListener("submit",this._handleSubmit),super.open()}close(){this._modalForm.removeEventListener("submit",this._handleSubmit),this._modalForm.reset(),super.close()}_handleSubmit=e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t)}}const i=[{name:"Myeongdong",link:new URL(n(685),n.b)},{name:"Gyeongbukgong Palace",link:new URL(n(36),n.b)},{name:"Namsan Tower",link:new URL(n(257),n.b)},{name:"Dongdaemun Design Plaza",link:new URL(n(240),n.b)},{name:"Han River",link:new URL(n(287),n.b)},{name:"Bukhansan National Park",link:new URL(n(120),n.b)}],l=document.querySelector("#profile-edit-button"),a=(document.querySelector("#profile-edit-modal"),document.querySelector("#profile-edit-close-button"),document.querySelector("#profile-name"),document.querySelector("#profile-title"),document.querySelector("#profile-name-input")),c=document.querySelector("#profile-title-input"),u=document.querySelector("#profile-edit-form"),d=document.querySelector("#new-card-button"),m=(document.querySelector("#new-card-modal"),document.querySelector("#new-card-close-button"),document.querySelector("#new-card-form")),_=(document.querySelector("#new-card-title-input"),document.querySelector("#new-card-url-input"),document.querySelector("#new-card-submit-button"),document.querySelector("#photo-modal"),document.querySelector(".modal__photo-caption"),document.querySelector(".modal__photo"),document.querySelector("#photo-modal-close-button"),document.querySelector("#card-template").content,document.querySelector("#card-list")),h=(document.querySelectorAll(".modal"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"}),p=new class{constructor(e,t){this._name=document.querySelector(e),this._title=document.querySelector(t)}getUserInfo(){return{name:this._name.textContent,title:this._title.textContent}}setUserInfo(e){this._name.textContent=e.name,this._title.textContent=e.title}}(".profile__name",".profile__title"),E=new s("#profile-edit-modal",(function(e){p.setUserInfo(e),E.close()}));l.addEventListener("click",(function(){!function(){const e=p.getUserInfo();a.value=e.name,c.value=e.title}(),E.open()}));const b=new s("#new-card-modal",(function(e){let{name:t,link:n}=e;const o={name:t,link:n};b.close(),f.addItem(o)}));d.addEventListener("click",(()=>{S.toggleButtonState(),b.open()})),new r(h,u).enableValidation();const S=new r(h,m);S.enableValidation();const f=new class{constructor(e,t){let{items:n,renderer:o}=e;this._items=n,this._renderer=o,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._renderer(e)}}({items:i,renderer:function(e){const t=new o(e,"#card-template").createCard();_.prepend(t)}},"#card-template");f.renderItems()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxtQkFHdkMsU0FBNEI5RSxHQUFpQixJQUFoQixLQUFFb0IsRUFBSSxLQUFFQyxHQUFNckIsRUFDekMsTUFBTWlILEVBQWMsQ0FBRTdGLE9BQU1DLFFBQzVCMkYsRUFBYXBHLFFBQ2JzRyxFQUFZQyxRQUFRRixFQUN0QixJQVNBaEIsRUFBV3RGLGlCQUFpQixTQUFTLEtBQ25DeUcsRUFBaUI3QyxvQkFDakJ5QyxFQUFheEcsTUFBTSxJQU9RLElBQUlxQyxFQUFjQyxFQUFVa0QsR0FDcENwQixtQkFFckIsTUFBTXdDLEVBQW1CLElBQUl2RSxFQUFjQyxFQUFVb0QsR0FDckRrQixFQUFpQnhDLG1CQU1qQixNQUFNc0MsRUFBYyxJRXhGTCxNQUNibkgsWUFBV0MsRUFBc0JxSCxHQUFtQixJQUF4QyxNQUFFQyxFQUFLLFNBQUVDLEdBQVV2SCxFQUM3QkUsS0FBS3NILE9BQVNGLEVBQ2RwSCxLQUFLdUgsVUFBWUYsRUFDakJySCxLQUFLd0gsV0FBYWpJLFNBQVNXLGNBQWNpSCxFQUMzQyxDQUVBTSxjQUNFekgsS0FBS3NILE9BQU83QyxTQUFTaUQsSUFDbkIxSCxLQUFLdUgsVUFBVUcsRUFBSyxHQUV4QixDQUNBVCxRQUFRUCxHQUNOMUcsS0FBS3VILFVBQVViLEVBQ2pCLEdGMkVBLENBQ0VVLE1BQU8zQixFQUNQNEIsU0E3QkosU0FBb0JLLEdBQ2xCLE1BQ01DLEVBRFUsSUFBSS9GLEVBQUs4RixFQUFNLGtCQUNWaEYsYUFDckJ1RCxFQUFTMkIsUUFBUUQsRUFDbkIsR0EyQkUsa0JBR0ZYLEVBQVlTLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlID0gdGhpcy5faGFuZGxlQ2xpY2tDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDbGlja0Nsb3NlKGV2dCkge1xuICAgIGlmIChcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXG4gICAgKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluayB9LCBwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbENhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19waG90by1jYXB0aW9uXCJcbiAgICApO1xuICAgIHRoaXMuX21vZGFsSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGhvdG9cIik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX21vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fbW9kYWxJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX21vZGFsSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbENhcHRpb24udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIHRoaXMuX21vZGFsSW1hZ2Uuc3JjID0gXCJcIjtcbiAgICB0aGlzLl9tb2RhbEltYWdlLmFsdCA9IFwiXCI7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmsgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcmVtb3ZlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoKTtcbiAgICAgIH0pO1xuICAgIGNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXG4gICAgICB7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSxcbiAgICAgIFwiI3Bob3RvLW1vZGFsXCJcbiAgICApO1xuXG4gICAgdGhpcy5faW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaW1hZ2VQb3B1cC5vcGVuKCk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH07XG5cbiAgX2dldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgpO1xuICAgIHRoaXMuX2ltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltZ1wiKTtcbiAgICB0aGlzLl9pbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5faW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZVJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIHRoaXMuX2Vycm9yRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICB0aGlzLl9lcnJvckVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsKSA9PiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9idXR0b25FbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuaW5wdXRFbHMgPSB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXREYXRhID0ge307XG4gICAgdGhpcy5pbnB1dEVscy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXREYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0RGF0YTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fbW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICBfaGFuZGxlU3VibWl0ID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpO1xuICB9O1xufVxuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmV4cG9ydCBjb25zdCBteWVvbmdkb25nID0gbmV3IFVSTChcIi4uL2ltYWdlcy9teWVvbmdkb25nLmpwZWdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbmV4cG9ydCBjb25zdCBneWVvbmdidWtnb25nID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvZ3llb25nYnVrZ29uZy5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IG5hbXNhbiA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvbmFtc2FuLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xuZXhwb3J0IGNvbnN0IGRvbmdkYWVtdW4gPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2RkcGxhemEuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XG5leHBvcnQgY29uc3QgaGFuUml2ZXIgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2hhbi5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbmV4cG9ydCBjb25zdCBidWtoYW5zYW4gPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2J1a2hhbnNhbi5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbi8vIGNhcmQgZGF0YVxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiTXllb25nZG9uZ1wiLFxuICAgIGxpbms6IG15ZW9uZ2RvbmcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkd5ZW9uZ2J1a2dvbmcgUGFsYWNlXCIsXG4gICAgbGluazogZ3llb25nYnVrZ29uZyxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTmFtc2FuIFRvd2VyXCIsXG4gICAgbGluazogbmFtc2FuLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJEb25nZGFlbXVuIERlc2lnbiBQbGF6YVwiLFxuICAgIGxpbms6IGRvbmdkYWVtdW4sXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkhhbiBSaXZlclwiLFxuICAgIGxpbms6IGhhblJpdmVyLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCdWtoYW5zYW4gTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IGJ1a2hhbnNhbixcbiAgfSxcbl07XG5cbi8vUHJvZmlsZSBFbGVtZW50c1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdENsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1lZGl0LWNsb3NlLWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1mb3JtXCIpO1xuXG4vL0FkZCBDYXJkIEVsZW1lbnRzXG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZENsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctY2FyZC1jbG9zZS1idXR0b25cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1jYXJkLWZvcm1cIik7XG5leHBvcnQgY29uc3QgYWRkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtdGl0bGUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgYWRkVVJMSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1jYXJkLXVybC1pbnB1dFwiKTtcblxuZXhwb3J0IGNvbnN0IGFkZENhcmRTdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNuZXctY2FyZC1zdWJtaXQtYnV0dG9uXCJcbik7XG5cbi8vUGhvdG8gTW9kYWwgRWxlbWVudHNcbmV4cG9ydCBjb25zdCBwaG90b01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaG90by1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waG90by1jYXB0aW9uXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waG90b1wiKTtcbmV4cG9ydCBjb25zdCBwaG90b01vZGFsQ2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwaG90by1tb2RhbC1jbG9zZS1idXR0b25cIlxuKTtcblxuLy9HZW5lcmFsIEVsZW1lbnRzXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XG5leHBvcnQgY29uc3QgY2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbEVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXRcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0X2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIHByb2ZpbGVFZGl0QnRuLFxuICBwcm9maWxlRWRpdEZvcm0sXG4gIGFkZENhcmRCdG4sXG4gIGFkZENhcmRGb3JtLFxuICBjYXJkTGlzdCxcbiAgc2V0dGluZ3MsXG4gIHByb2ZpbGVOYW1lSW5wdXQsXG4gIHByb2ZpbGVUaXRsZUlucHV0LFxuICBpbml0aWFsQ2FyZHMsXG4gIHByb2ZpbGVJbnB1dERhdGEsXG4gIGNhcmRUZW1wbGF0ZSxcbiAgYWRkVGl0bGVJbnB1dCxcbiAgYWRkVVJMSW5wdXQsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fbmFtZVwiLCBcIi5wcm9maWxlX190aXRsZVwiKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxuKTtcblxuLy9mdW5jdGlvbnNcbmZ1bmN0aW9uIGZpbGxQcm9maWxlRm9ybSgpIHtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyRGF0YS50aXRsZTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQoZGF0YSkge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG59XG5cbi8vZXZlbnQgbGlzdGVuZXJzXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBmaWxsUHJvZmlsZUZvcm0oKTtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIENhcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNuZXctY2FyZC1tb2RhbFwiLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcblxuLy9mdW5jdGlvbnNcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgY29uc3QgbmV3Q2FyZERhdGEgPSB7IG5hbWUsIGxpbmsgfTtcbiAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZERhdGEpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0pIHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGl0ZW0sIFwiI2NhcmQtdGVtcGxhdGVcIik7XG4gIGNvbnN0IGNhcmQgPSBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcbiAgY2FyZExpc3QucHJlcGVuZChjYXJkKTtcbn1cblxuLy9ldmVudCBsaXN0ZW5lcnNcbmFkZENhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZFZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JtIFZhbGlkYXRvcnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgcHJvZmlsZUVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgcHJvZmlsZUVkaXRGb3JtKTtcbnByb2ZpbGVFZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYWRkQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhZGRDYXJkRm9ybSk7XG5hZGRDYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhcmQgUmVuZGVyaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcbiAgfSxcbiAgXCIjY2FyZC10ZW1wbGF0ZVwiXG4pO1xuXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIHRpdGxlU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aXRsZVNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgdGl0bGU6IHRoaXMuX3RpdGxlLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG4gIGFkZEl0ZW0oZGF0YSkge1xuICAgIHRoaXMuX3JlbmRlcmVyKGRhdGEpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJQb3B1cCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsInBvcHVwU2VsZWN0b3IiLCJ0aGlzIiwiX3BvcHVwRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUNsaWNrQ2xvc2UiLCJvcGVuIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJuYW1lIiwibGluayIsInN1cGVyIiwiX25hbWUiLCJfbGluayIsIl9tb2RhbENhcHRpb24iLCJfbW9kYWxJbWFnZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsIl9jYXJkU2VsZWN0b3IiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUJ0biIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2NhcmRFbGVtZW50IiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJpbWFnZVBvcHVwIiwiX2ltYWdlRWwiLCJ0b2dnbGUiLCJfZ2V0RWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjcmVhdGVDYXJkIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJfZXJyb3JFbCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRMaXN0Iiwic29tZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2J1dHRvbkVsIiwiZGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX21vZGFsRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaW5wdXRFbHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dERhdGEiLCJpbnB1dCIsInZhbHVlIiwiX2hhbmRsZVN1Ym1pdCIsInJlc2V0IiwiZSIsImlucHV0VmFsdWVzIiwiaW5pdGlhbENhcmRzIiwiVVJMIiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRWRpdEZvcm0iLCJhZGRDYXJkQnRuIiwiYWRkQ2FyZEZvcm0iLCJjYXJkTGlzdCIsImZvcm1TZWxlY3RvciIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwidGl0bGVTZWxlY3RvciIsIl90aXRsZSIsImdldFVzZXJJbmZvIiwidGl0bGUiLCJzZXRVc2VySW5mbyIsImRhdGEiLCJwcm9maWxlUG9wdXAiLCJ1c2VyRGF0YSIsImZpbGxQcm9maWxlRm9ybSIsImFkZENhcmRQb3B1cCIsIm5ld0NhcmREYXRhIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiYWRkQ2FyZFZhbGlkYXRvciIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJjYXJkIiwicHJlcGVuZCJdLCJzb3VyY2VSb290IjoiIn0=